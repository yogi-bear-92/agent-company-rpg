import{r as e,g as s}from"./react-vendor-HnKmhvXM.js";var t,a,i={exports:{}},r={};var l=(a||(a=1,i.exports=function(){if(t)return r;t=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function a(s,t,a){var i=null;if(void 0!==a&&(i=""+a),void 0!==t.key&&(i=""+t.key),"key"in t)for(var r in a={},t)"key"!==r&&(a[r]=t[r]);else a=t;return t=a.ref,{$$typeof:e,type:s,key:i,ref:void 0!==t?t:null,props:a}}return r.Fragment=s,r.jsx=a,r.jsxs=a,r}()),i.exports),n=e();const o=s(n);function c({agent:e,onClose:s,onMissionAssign:t}){const a=(e,s=100,t)=>{const a=Math.max(0,Math.min(s,isNaN(e)?0:e));return l.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${t}`,style:{width:a/s*100+"%"}})})};return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:l.jsx("div",{className:"glass-panel max-w-4xl w-full max-h-[90vh] overflow-y-auto","aria-label":`Agent details for ${e.name}`,role:"dialog","aria-modal":"true",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{className:"text-4xl",role:"img","aria-label":`${e.name} avatar`,children:e.avatar}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:e.name}),l.jsx("p",{className:"text-lg text-purple-300",children:e.class}),l.jsx("p",{className:"text-sm text-slate-400 italic",children:e.personality})]})]}),l.jsx("button",{onClick:s,tabIndex:2,className:"text-slate-400 hover:text-white text-xl p-2 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-slate-800 rounded","aria-label":"Close agent details",children:"✕"})]}),l.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[{key:"intelligence",label:"Intelligence",value:e.stats.intelligence,color:"text-blue-400"},{key:"creativity",label:"Creativity",value:e.stats.creativity,color:"text-purple-400"},{key:"reliability",label:"Reliability",value:e.stats.reliability,color:"text-green-400"},{key:"speed",label:"Speed",value:e.stats.speed,color:"text-yellow-400"},{key:"leadership",label:"Leadership",value:e.stats.leadership,color:"text-red-400"}].map(e=>{const s=isNaN(e.value)?0:e.value;return l.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[l.jsx("div",{className:`text-2xl font-bold ${e.color}`,children:s}),l.jsx("div",{className:"text-sm text-slate-400",children:e.label}),l.jsx("div",{className:"mt-2",children:a(s,100,`bg-gradient-to-r from-${e.color.split("-")[1]}-500 to-${e.color.split("-")[1]}-400`)})]},e.key)})}),l.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg mb-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("span",{className:"font-semibold",children:["Level ",e.level]}),l.jsxs("span",{className:"text-sm text-slate-400",children:[e.xp," / ",e.xpToNext," XP"]})]}),l.jsx("div",{className:"xp-bar","data-testid":"xp-bar","data-agent-id":e.id,children:l.jsx("div",{className:"xp-progress",role:"progressbar","aria-valuenow":e.xp,"aria-valuemin":0,"aria-valuemax":e.xpToNext,"aria-label":`${e.name} experience progress`,style:{width:e.xp/e.xpToNext*100+"%"}})})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold mb-3",children:"🎯 Specializations"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.specializations.map((e,s)=>l.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-sm",children:e},s))})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold mb-3",children:"📋 Current Mission"}),l.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg flex justify-between items-center",children:[l.jsx("span",{className:"text-lg "+("Available for Mission"===e.currentMission?"text-green-400":"text-cyan-400"),children:e.currentMission}),t&&l.jsx("button",{onClick:()=>t(e),disabled:"Available for Mission"!==e.currentMission,tabIndex:1,className:"px-4 py-2 rounded-lg transition-colors "+("Available for Mission"===e.currentMission?"bg-green-600 hover:bg-green-500 text-white":"bg-slate-600 text-slate-400 cursor-not-allowed"),"aria-label":"Assign Mission",children:"Assign Mission"})]})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-8",children:[(()=>{const s=e.knowledgeBase||{},t=s.totalMemories||0,i=s.recentLearning||"No recent learning",r=s.knowledgeDomains||{},n=s.crawlingProgress||{active:!1,lastUrl:null};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:["🧠 Knowledge Base",l.jsxs("span",{className:"ml-2 text-sm bg-cyan-500/20 text-cyan-300 px-2 py-1 rounded",children:[t," memories"]})]}),l.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg",children:[l.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Recent Learning:"}),l.jsx("div",{className:"text-cyan-300",children:i})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm font-medium",children:"Domain Expertise:"}),Object.entries(r).length>0?Object.entries(r).map(([e,s])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm capitalize",children:e.replace("_"," ")}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-20",children:a(s,100,"bg-gradient-to-r from-blue-500 to-purple-500")}),l.jsx("span",{className:"text-xs text-slate-400 w-8",children:s})]})]},e)):l.jsx("div",{className:"text-sm text-slate-400 italic",children:"No domain expertise recorded"})]}),n.active?l.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 p-3 rounded-lg",children:[l.jsx("div",{className:"text-green-400 text-sm font-medium mb-1",children:"🔄 Currently crawling"}),l.jsx("div",{className:"text-xs text-green-300",children:n.currentUrl||n.lastUrl}),l.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[n.pagesLearned||0," pages learned"]})]}):l.jsxs("div",{className:"bg-slate-700/50 border border-slate-600/50 p-3 rounded-lg",children:[l.jsx("div",{className:"text-slate-400 text-sm font-medium mb-1",children:"📚 Last crawled"}),l.jsx("div",{className:"text-xs text-slate-300",children:n.lastUrl||"No recent crawling activity"})]})]})})(),(()=>{const s=e.equipment||{};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold flex items-center",children:"⚔️ Equipment"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg",children:[l.jsx("div",{className:"text-sm text-purple-400 font-medium mb-1",children:"Primary Tool"}),l.jsx("div",{className:"text-sm",children:s.primary||"None equipped"})]}),l.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg",children:[l.jsx("div",{className:"text-sm text-cyan-400 font-medium mb-1",children:"Secondary Tool"}),l.jsx("div",{className:"text-sm",children:s.secondary||"None equipped"})]}),l.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg",children:[l.jsx("div",{className:"text-sm text-green-400 font-medium mb-1",children:"Utility Item"}),l.jsx("div",{className:"text-sm",children:s.utility||"None equipped"})]})]})]})})()]}),l.jsxs("div",{className:"space-y-8",children:[(()=>{const s=e.skillTree||{};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold flex items-center",children:"🌟 Skill Tree"}),l.jsx("div",{className:"grid gap-3",children:Object.entries(s).length>0?Object.entries(s).map(([e,s])=>s&&"object"==typeof s?l.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"font-medium",children:e}),l.jsxs("span",{className:"text-sm text-slate-400",children:[s.level||0,"/",s.maxLevel||10]})]}),a(s.level||0,s.maxLevel||10,"bg-gradient-to-r from-purple-500 to-cyan-500"),s.recentProgress&&l.jsx("div",{className:"text-xs text-green-400 mt-1",children:s.recentProgress})]},e):null).filter(Boolean):l.jsx("div",{className:"text-sm text-slate-400 italic",children:"No skills unlocked yet"})})]})})(),(()=>{const s=e.relationships||[];return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold flex items-center",children:"👥 Relationships"}),0===s.length?l.jsx("div",{className:"text-sm text-slate-400 italic",children:"No active relationships"}):l.jsx("div",{className:"space-y-3",children:s.map((e,s)=>l.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("span",{className:"text-sm font-medium",children:["Agent #",e.agentId]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-xs px-2 py-1 rounded "+("mentor"===e.type?"bg-purple-500/20 text-purple-300":"apprentice"===e.type?"bg-green-500/20 text-green-300":"bg-blue-500/20 text-blue-300"),children:e.type}),l.jsx("span",{className:"text-xs text-slate-400",children:e.strength})]})]}),l.jsxs("div",{className:"text-xs text-slate-400",children:["Recent: ",e.recentInteraction]})]},s))})]})})()]})]}),l.jsxs("div",{className:"mt-8",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"⚡ Recent Activity"}),l.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:e.realtimeActivity&&e.realtimeActivity.length>0?e.realtimeActivity.map((e,s)=>l.jsx("div",{className:"bg-slate-800/30 p-3 rounded-lg",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm",children:e.action}),l.jsx("div",{className:"text-xs text-slate-400 mt-1",children:e.timestamp})]}),l.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[e.xpGained&&l.jsxs("span",{className:"text-xs text-green-400",children:["+",e.xpGained," XP"]}),e.synergy&&l.jsx("span",{className:"text-xs text-purple-400",children:e.synergy}),e.confidence&&l.jsx("span",{className:"text-xs text-cyan-400",children:e.confidence})]})]})},s)):l.jsx("div",{className:"text-sm text-slate-400 italic p-3 bg-slate-800/30 rounded-lg",children:"No recent activity"})})]})]})})})}const d=[{id:"quest_001",title:"Welcome to the Guild",description:"Learn the basics of agent management and complete your first mission.",lore:"Every great journey begins with a single step. The Guild Master awaits your arrival.",type:"main",category:"Training",difficulty:"Tutorial",status:"available",icon:"📚",objectives:[{id:"obj_001_1",description:"Report to the Guild Master",completed:!1,progress:0,maxProgress:1},{id:"obj_001_2",description:"Assign an agent to a task",completed:!1,progress:0,maxProgress:1},{id:"obj_001_3",description:"Complete your first knowledge crawl",completed:!1,progress:0,maxProgress:1}],currentObjectiveIndex:0,progressPercentage:0,requirements:{minLevel:1},rewards:{xp:100,gold:50,items:["Apprentice Badge"],unlocks:["Basic Quests"]},assignedAgents:[],recommendedTeamSize:1,autoAssign:!1,dialogue:[],createdAt:new Date,repeatable:!1},{id:"quest_002",title:"The Lost Algorithm",description:"Investigate the mysterious disappearance of a critical optimization algorithm.",lore:"Ancient code fragments have been discovered, pointing to a legendary algorithm that could revolutionize agent efficiency.",type:"main",category:"Investigation",difficulty:"Medium",status:"available",icon:"🔍",objectives:[{id:"obj_002_1",description:"Analyze the code fragments",completed:!1,progress:0,maxProgress:3},{id:"obj_002_2",description:"Interview veteran agents about the algorithm",completed:!1,progress:0,maxProgress:5},{id:"obj_002_3",description:"Search the archived repositories",completed:!1,progress:0,maxProgress:10},{id:"obj_002_4",description:"Reconstruct the algorithm",completed:!1,progress:0,maxProgress:1,optional:!0}],currentObjectiveIndex:0,progressPercentage:0,timeLimit:120,requirements:{minLevel:5,requiredClass:["Code Analyst","Data Sage"],requiredSkills:[{skill:"Code Analysis",level:3},{skill:"Data Mining",level:2}]},rewards:{xp:500,gold:200,items:["Algorithm Fragment","Sage Robe"],skillPoints:2,reputation:[{faction:"Code Keepers",amount:50}]},bonusRewards:{xp:200,items:["Complete Algorithm Scroll"],reputation:[{faction:"Code Keepers",amount:25}]},assignedAgents:[],recommendedTeamSize:3,autoAssign:!1,dialogue:[],createdAt:new Date,repeatable:!1,githubIssue:"#102",knowledgeRequired:["Algorithms","Data Structures","Legacy Systems"]},{id:"quest_003",title:"The Data Breach Crisis",description:"A massive data breach threatens the entire network. Assemble your best team!",lore:"Dark agents have infiltrated the core systems. Time is of the essence.",type:"raid",category:"Combat",difficulty:"Expert",status:"available",icon:"⚔️",objectives:[{id:"obj_003_1",description:"Identify breach points",completed:!1,progress:0,maxProgress:5},{id:"obj_003_2",description:"Deploy security patches",completed:!1,progress:0,maxProgress:10},{id:"obj_003_3",description:"Trace the attackers",completed:!1,progress:0,maxProgress:3},{id:"obj_003_4",description:"Neutralize the threat",completed:!1,progress:0,maxProgress:1}],currentObjectiveIndex:0,progressPercentage:0,timeLimit:60,requirements:{minLevel:10,teamSize:{min:4,max:8},requiredSkills:[{skill:"Cybersecurity",level:5},{skill:"Rapid Response",level:4}]},rewards:{xp:1500,gold:1e3,items:["Elite Security Badge","Firewall Enhancement","Legendary Cipher"],skillPoints:5,reputation:[{faction:"Security Council",amount:100},{faction:"Guild Alliance",amount:75}],unlocks:["Elite Raids","Security Specialization"]},assignedAgents:[],recommendedTeamSize:6,autoAssign:!1,dialogue:[],createdAt:new Date,repeatable:!0,cooldownHours:168,swarmTaskId:"swarm_raid_001"},{id:"quest_004",title:"Documentation Patrol",description:"Update and maintain project documentation.",type:"daily",category:"Creation",difficulty:"Easy",status:"available",icon:"📝",objectives:[{id:"obj_004_1",description:"Review existing documentation",completed:!1,progress:0,maxProgress:5},{id:"obj_004_2",description:"Update outdated sections",completed:!1,progress:0,maxProgress:3},{id:"obj_004_3",description:"Add new examples",completed:!1,progress:0,maxProgress:2,optional:!0}],currentObjectiveIndex:0,progressPercentage:0,requirements:{minLevel:2},rewards:{xp:150,gold:50,items:["Documentation Token"],reputation:[{faction:"Scribes Guild",amount:10}]},bonusRewards:{xp:50,items:["Quality Seal"]},assignedAgents:[],recommendedTeamSize:1,autoAssign:!0,dialogue:[],createdAt:new Date,repeatable:!0,cooldownHours:24},{id:"quest_005",title:"The Uncharted Repository",description:"Explore a newly discovered open-source repository and catalog its treasures.",type:"side",category:"Exploration",difficulty:"Medium",status:"available",icon:"🗺️",objectives:[{id:"obj_005_1",description:"Clone and analyze the repository",completed:!1,progress:0,maxProgress:1},{id:"obj_005_2",description:"Document useful functions",completed:!1,progress:0,maxProgress:10},{id:"obj_005_3",description:"Test integration possibilities",completed:!1,progress:0,maxProgress:5},{id:"obj_005_4",description:"Create a fork with improvements",completed:!1,progress:0,maxProgress:1,optional:!0}],currentObjectiveIndex:0,progressPercentage:0,requirements:{minLevel:4,requiredSkills:[{skill:"Repository Navigation",level:2},{skill:"Code Review",level:3}]},rewards:{xp:300,gold:150,items:["Explorer Badge","Repository Map"],skillPoints:1},bonusRewards:{xp:100,items:["Fork Master Trophy"],reputation:[{faction:"Open Source Alliance",amount:30}]},assignedAgents:[],recommendedTeamSize:2,autoAssign:!1,dialogue:[],createdAt:new Date,repeatable:!1},{id:"quest_006",title:"The Architect's Legacy",description:"Uncover the secrets of the legendary System Architect.",lore:"Tales speak of an architect who designed the perfect system. Their knowledge could unlock unlimited potential.",type:"epic",category:"Investigation",difficulty:"Legendary",status:"locked",icon:"🏛️",objectives:[{id:"obj_006_1",description:"Gather the Five Sacred Design Patterns",completed:!1,progress:0,maxProgress:5},{id:"obj_006_2",description:"Decipher the Architect's Code",completed:!1,progress:0,maxProgress:1},{id:"obj_006_3",description:"Build the Ultimate System",completed:!1,progress:0,maxProgress:1}],currentObjectiveIndex:0,progressPercentage:0,requirements:{minLevel:20,requiredClass:["System Architect","Code Master"],requiredQuests:["quest_002","quest_003"],requiredSkills:[{skill:"System Design",level:10},{skill:"Architecture Patterns",level:10}]},rewards:{xp:5e3,gold:5e3,items:["Architect's Crown","Legendary Blueprint","System Crystal"],skillPoints:10,reputation:[{faction:"Master Builders",amount:500},{faction:"Guild Alliance",amount:250}],unlocks:["Master Architect Class","Legendary Quests"]},assignedAgents:[],recommendedTeamSize:8,autoAssign:!1,dialogue:[],createdAt:new Date,repeatable:!1},{id:"quest_007",title:"Skill Advancement Trial",description:"Push your agents to their limits in specialized training.",type:"side",category:"Training",difficulty:"Hard",status:"available",icon:"🎯",objectives:[{id:"obj_007_1",description:"Complete coding challenges",completed:!1,progress:0,maxProgress:10},{id:"obj_007_2",description:"Optimize existing solutions",completed:!1,progress:0,maxProgress:5},{id:"obj_007_3",description:"Mentor junior agents",completed:!1,progress:0,maxProgress:3}],currentObjectiveIndex:0,progressPercentage:0,timeLimit:90,requirements:{minLevel:8,teamSize:{min:2,max:4}},rewards:{xp:800,skillPoints:3,items:["Training Certificate","Skill Boost Elixir"],reputation:[{faction:"Training Academy",amount:60}]},assignedAgents:[],recommendedTeamSize:3,autoAssign:!1,dialogue:[],createdAt:new Date,repeatable:!0,cooldownHours:72},{id:"quest_008",title:"The Alliance Summit",description:"Negotiate partnerships with other agent guilds.",type:"main",category:"Diplomacy",difficulty:"Medium",status:"available",icon:"🤝",objectives:[{id:"obj_008_1",description:"Prepare presentation materials",completed:!1,progress:0,maxProgress:1},{id:"obj_008_2",description:"Meet with guild representatives",completed:!1,progress:0,maxProgress:4},{id:"obj_008_3",description:"Negotiate terms",completed:!1,progress:0,maxProgress:3},{id:"obj_008_4",description:"Secure unanimous approval",completed:!1,progress:0,maxProgress:1,optional:!0}],currentObjectiveIndex:0,progressPercentage:0,requirements:{minLevel:6,requiredSkills:[{skill:"Communication",level:4},{skill:"Negotiation",level:3}]},rewards:{xp:600,gold:400,items:["Diplomat Badge","Alliance Token"],reputation:[{faction:"Guild Alliance",amount:100},{faction:"Diplomatic Corps",amount:75}],unlocks:["Alliance Quests","Trade Routes"]},bonusRewards:{xp:200,items:["Master Negotiator Seal"],reputation:[{faction:"All Factions",amount:25}]},assignedAgents:[],recommendedTeamSize:2,autoAssign:!1,dialogue:[],createdAt:new Date,repeatable:!1}],m=({agents:e,onQuestAssign:s,onQuestStart:t,onQuestComplete:a})=>{const[i,r]=n.useState(d),[o,c]=n.useState(null),[m,x]=n.useState([]),[p,u]=n.useState({}),[g,h]=n.useState({by:"difficulty",direction:"asc"}),[b,v]=n.useState(!1),j=n.useMemo(()=>{let e=[...i];return p.type?.length&&(e=e.filter(e=>p.type.includes(e.type))),p.category?.length&&(e=e.filter(e=>p.category.includes(e.category))),p.difficulty?.length&&(e=e.filter(e=>p.difficulty.includes(e.difficulty))),p.status?.length&&(e=e.filter(e=>p.status.includes(e.status))),p.hideCompleted&&(e=e.filter(e=>"completed"!==e.status)),p.hideLocked&&(e=e.filter(e=>"locked"!==e.status)),p.minRewardXp&&(e=e.filter(e=>e.rewards.xp>=p.minRewardXp)),e.sort((e,s)=>{let t=0;switch(g.by){case"difficulty":{const a=["Tutorial","Easy","Medium","Hard","Expert","Legendary"];t=a.indexOf(e.difficulty)-a.indexOf(s.difficulty);break}case"xp":t=e.rewards.xp-s.rewards.xp;break;case"progress":t=e.progressPercentage-s.progressPercentage;break;case"type":t=e.type.localeCompare(s.type);break;case"newest":t=s.createdAt.getTime()-e.createdAt.getTime()}return"asc"===g.direction?t:-t}),e},[i,p,g]),f=e=>({Tutorial:"text-gray-400",Easy:"text-green-400",Medium:"text-yellow-400",Hard:"text-orange-400",Expert:"text-red-400",Legendary:"text-purple-400"}[e]||"text-gray-400"),y=s=>{if("available"!==s.status)return!1;if(0===m.length)return!1;const t=s.requirements;if(t.teamSize&&(m.length<t.teamSize.min||m.length>t.teamSize.max))return!1;if(t.minLevel){if(Math.min(...m.map(s=>e.find(e=>e.id===s)?.level||0))<t.minLevel)return!1}return!0};return l.jsxs("div",{className:"quest-board p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500",children:"Quest Board"}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[l.jsx("div",{className:"flex gap-2",children:["main","side","daily","epic","raid"].map(e=>l.jsx("button",{className:"px-3 py-1 rounded-full text-xs transition-all "+(p.type?.includes(e)?"bg-blue-500 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),onClick:()=>{u(s=>({...s,type:s.type?.includes(e)?s.type.filter(s=>s!==e):[...s.type||[],e]}))},children:e},e))}),l.jsxs("select",{className:"px-3 py-1 rounded bg-white/10 text-white text-xs",value:g.by,onChange:e=>h(s=>({...s,by:e.target.value})),children:[l.jsx("option",{value:"difficulty",children:"Sort by Difficulty"}),l.jsx("option",{value:"xp",children:"Sort by XP"}),l.jsx("option",{value:"progress",children:"Sort by Progress"}),l.jsx("option",{value:"type",children:"Sort by Type"}),l.jsx("option",{value:"newest",children:"Sort by Newest"})]}),l.jsx("button",{className:"px-3 py-1 rounded bg-white/10 text-white text-xs hover:bg-white/20",onClick:()=>h(e=>({...e,direction:"asc"===e.direction?"desc":"asc"})),children:"asc"===g.direction?"↑":"↓"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:j.map(e=>(e=>{return l.jsxs("div",{"data-quest-id":e.id,className:`quest-card p-4 rounded-lg border-2 cursor-pointer transition-all hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:ring-offset-slate-800 ${t=e.type,{main:"bg-blue-500/20 border-blue-400",side:"bg-green-500/20 border-green-400",daily:"bg-yellow-500/20 border-yellow-400",epic:"bg-purple-500/20 border-purple-400",raid:"bg-red-500/20 border-red-400"}[t]||"bg-gray-500/20 border-gray-400"} ${o?.id===e.id?"ring-2 ring-blue-400":""}`,onClick:()=>{c(e),v(!0)},onKeyDown:s=>{"Enter"!==s.key&&" "!==s.key||(s.preventDefault(),c(e),v(!0))},tabIndex:0,"aria-label":`View details for ${e.title} quest`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",role:"img","aria-label":`${e.title} quest icon`,children:e.icon}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-white",children:e.title}),l.jsxs("div",{className:"flex gap-2 text-xs",children:[l.jsx("span",{className:`px-2 py-1 rounded-full bg-black/30 ${f(e.difficulty)}`,children:e.difficulty}),l.jsx("span",{className:"px-2 py-1 rounded-full bg-black/30 text-gray-300",children:e.category})]})]})]}),l.jsx("span",{className:"text-lg",role:"img","aria-label":`Quest status: ${e.status}`,children:(s=e.status,{available:"✓",active:"⚡",completed:"✓",failed:"✗",locked:"🔒"}[s]||"?")})]}),l.jsx("p",{className:"text-sm text-gray-300 mb-2 line-clamp-2",children:e.description}),l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{className:"text-xs text-gray-400",children:[l.jsxs("div",{children:["🎯 ",e.objectives.length," objectives"]}),l.jsxs("div",{children:["👥 ",e.recommendedTeamSize," agents recommended"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-yellow-400 font-bold",children:["+",e.rewards.xp," XP"]}),e.rewards.gold&&l.jsxs("div",{className:"text-yellow-300 text-xs",children:["+",e.rewards.gold," gold"]})]})]}),"active"===e.status&&l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"w-full bg-black/30 rounded-full h-2",role:"progressbar","aria-valuenow":e.progressPercentage,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Quest progress: ${e.progressPercentage}%`,children:l.jsx("div",{className:"h-2 bg-gradient-to-r from-blue-400 to-blue-600 rounded-full transition-all",role:"progressbar","aria-valuenow":e.progressPercentage,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`${e.title} progress`,style:{width:`${e.progressPercentage}%`}})}),l.jsxs("div",{className:"text-xs text-center mt-1 text-gray-300",children:[e.progressPercentage,"% Complete"]}),e.progressPercentage>=100&&l.jsx("button",{className:"w-full mt-2 px-2 py-1 bg-green-600 hover:bg-green-700 rounded text-xs transition-colors",onClick:s=>{s.stopPropagation(),a(e.id)},"data-action":"complete",children:"Complete Quest"})]}),e.timeLimit&&"active"===e.status&&l.jsxs("div",{className:"mt-2 text-xs text-orange-400 text-center",children:["⏱️ ",e.timeRemaining||e.timeLimit," minutes remaining"]})]},e.id);var s,t})(e))}),b&&o&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black rounded-xl border border-white/20 max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-4xl",children:o.icon}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:o.title}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsx("span",{className:`px-2 py-1 rounded-full bg-black/30 text-sm ${f(o.difficulty)}`,children:o.difficulty}),l.jsxs("span",{className:"px-2 py-1 rounded-full bg-black/30 text-sm text-gray-300",children:[o.type," • ",o.category]})]})]})]}),l.jsx("button",{className:"text-gray-400 hover:text-white text-2xl",onClick:()=>v(!1),children:"✕"})]}),o.lore&&l.jsx("div",{className:"mb-4 p-3 bg-white/5 rounded-lg italic text-gray-300",children:o.lore}),l.jsx("p",{className:"text-gray-300 mb-4",children:o.description}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"font-bold text-lg mb-2 text-white",children:"Objectives"}),l.jsx("div",{className:"space-y-2",children:o.objectives.map((e,s)=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center text-xs "+(e.completed?"bg-green-500 border-green-400":"border-gray-500"),children:e.completed?"✓":s+1}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"text-sm text-gray-300",children:[e.description,e.optional&&l.jsx("span",{className:"ml-2 text-xs text-blue-400",children:"(Optional)"})]}),e.maxProgress>1&&l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("div",{className:"flex-1 bg-black/30 rounded-full h-1",children:l.jsx("div",{className:"h-1 bg-blue-400 rounded-full",style:{width:e.progress/e.maxProgress*100+"%"}})}),l.jsxs("span",{className:"text-xs text-gray-400",children:[e.progress,"/",e.maxProgress]})]})]})]},e.id))})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"font-bold text-lg mb-2 text-white",children:"Requirements"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-300",children:[o.requirements.minLevel&&l.jsxs("div",{children:["📊 Min Level: ",o.requirements.minLevel]}),o.requirements.teamSize&&l.jsxs("div",{children:["👥 Team Size: ",o.requirements.teamSize.min,"-",o.requirements.teamSize.max]}),o.requirements.requiredClass&&l.jsxs("div",{children:["🎭 Classes: ",o.requirements.requiredClass.join(", ")]}),o.requirements.requiredSkills&&l.jsxs("div",{children:["🎯 Skills: ",o.requirements.requiredSkills.map(e=>`${e.skill} (${e.level})`).join(", ")]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"font-bold text-lg mb-2 text-white",children:"Rewards"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"text-yellow-400",children:["⭐ ",o.rewards.xp," XP"]}),o.rewards.gold&&l.jsxs("div",{className:"text-yellow-300",children:["💰 ",o.rewards.gold," Gold"]}),o.rewards.items&&l.jsxs("div",{className:"text-blue-400",children:["📦 ",o.rewards.items.join(", ")]}),o.rewards.skillPoints&&l.jsxs("div",{className:"text-purple-400",children:["💎 ",o.rewards.skillPoints," Skill Points"]})]}),o.bonusRewards&&l.jsxs("div",{className:"mt-2 p-2 bg-white/5 rounded",children:[l.jsx("div",{className:"text-xs text-blue-400 mb-1",children:"Bonus Rewards (Optional Objectives):"}),l.jsxs("div",{className:"text-xs text-gray-300",children:["+",o.bonusRewards.xp," XP",o.bonusRewards.items&&`, ${o.bonusRewards.items.join(", ")}`]})]})]}),"available"===o.status&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"font-bold text-lg mb-2 text-white",children:"Assign Agents"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:e.map(e=>l.jsx("button",{className:"p-2 rounded-lg border transition-all "+(m.includes(e.id)?"bg-blue-500/30 border-blue-400":"bg-white/5 border-white/20 hover:bg-white/10"),onClick:()=>{return s=e.id,void x(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s]);var s},children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",role:"img","aria-label":`${e.name} avatar`,children:e.avatar}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-xs font-bold text-white",children:e.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:["Lv.",e.level," ",e.class]})]})]})},e.id))}),l.jsxs("div",{className:"text-xs text-gray-400",children:["Selected: ",m.length," / Recommended: ",o.recommendedTeamSize]})]}),l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-700 transition-colors",onClick:()=>v(!1),children:"Close"}),"available"===o.status&&l.jsx("button",{className:"px-4 py-2 rounded-lg transition-colors "+(y(o)?"bg-blue-600 hover:bg-blue-700":"bg-gray-700 cursor-not-allowed opacity-50"),onClick:()=>{o&&y(o)&&(s(o.id,m),t(o.id),r(e=>e.map(e=>e.id===o.id?{...e,status:"active",assignedAgents:m}:e)),x([]),v(!1))},disabled:!y(o),children:"Start Quest"}),"active"===o.status&&o.progressPercentage>=100&&l.jsx("button",{className:"px-4 py-2 rounded-lg bg-green-600 hover:bg-green-700 transition-colors",onClick:()=>{a(o.id),r(e=>e.map(e=>e.id===o.id?{...e,status:"completed"}:e)),v(!1)},children:"Complete Quest"})]})]})})]})},x=({agent:e,levelUpEvent:s,onClose:t,autoClose:a=!0,duration:i=5e3})=>{const[r,o]=n.useState(!1),[c,d]=n.useState(!1),[m,x]=n.useState("enter"),p=n.useRef(null),u=n.useCallback(()=>{x("exit"),o(!1),setTimeout(t,300)},[t]);n.useEffect(()=>{const e=setTimeout(()=>{o(!0),x("celebrate")},100),s=setTimeout(()=>{d(!0)},800);let t;return a&&(t=setTimeout(()=>{u()},i)),()=>{clearTimeout(e),clearTimeout(s),t&&clearTimeout(t)}},[a,i,u]);return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{ref:p,className:`${(()=>{const e="transform transition-all duration-500 ease-out";switch(m){case"enter":return`${e} scale-95 opacity-0 translate-y-4`;case"celebrate":return`${e} scale-100 opacity-100 translate-y-0 ${r?"animate-bounce":""}`;case"exit":return`${e} scale-95 opacity-0 translate-y-2`;default:return e}})()} relative max-w-md w-full mx-4`,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/20 to-cyan-500/20 rounded-2xl blur-xl scale-110"}),l.jsxs("div",{className:"relative bg-slate-900 bg-opacity-95 border border-purple-500 border-opacity-30 rounded-2xl p-6 shadow-2xl",children:[l.jsx("button",{onClick:u,className:"absolute top-4 right-4 text-slate-400 hover:text-white transition-colors",children:"✕"}),l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"text-4xl mb-2 animate-bounce",children:"🎉"}),l.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Level Up!"}),l.jsxs("p",{className:"text-slate-300 text-sm mt-1",children:[e?.name||"Agent"," has reached level ",s.newLevel]})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[l.jsx("div",{className:"text-3xl",children:e?.avatar||"🎯"}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-2xl font-bold text-orange-400",children:s.oldLevel}),l.jsx("span",{className:"text-purple-400 animate-pulse",children:"→"}),l.jsx("span",{className:"text-3xl font-bold text-yellow-400 animate-pulse",children:s.newLevel})]}),l.jsxs("div",{className:"text-xs text-slate-400",children:["+",s.xpGained," XP from ",s.source]})]})]}),l.jsx("div",{className:"mb-4",children:l.jsx("div",{className:"bg-slate-700 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-cyan-500 h-full rounded-full transition-all duration-2000 ease-out animate-pulse",style:{width:"100%"}})})}),c&&l.jsxs("div",{className:"space-y-3 animate-fade-in",children:[s.statIncreases?.length?l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsx("h4",{className:"text-sm font-semibold text-purple-300",children:"Stat Increases:"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.statIncreases.map((e,s)=>l.jsxs("div",{className:"flex items-center space-x-2 bg-slate-700/50 rounded px-2 py-1",children:[l.jsxs("div",{className:"text-xs font-medium capitalize",children:[e.stat.replace(/([A-Z])/g," $1").trim(),":"]}),l.jsxs("div",{className:"text-green-400 font-bold text-xs",children:["+",e.amount]})]},s))})]}):null,s.unlockedSkills?.length?l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsx("h4",{className:"text-sm font-semibold text-cyan-300",children:"New Skills Unlocked:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:s.unlockedSkills.map((e,s)=>l.jsxs("span",{className:"bg-gradient-to-r from-cyan-500/20 to-purple-500/20 border border-cyan-400/30 rounded-full px-3 py-1 text-xs font-medium text-cyan-300 animate-pulse",children:["✨ ",e]},s))})]}):null,l.jsxs("div",{className:"mt-6 flex space-x-3",children:[l.jsx("button",{onClick:()=>d(!c),className:"flex-1 bg-purple-600/20 border border-purple-500/30 hover:bg-purple-600/30 text-purple-300 rounded-lg px-4 py-2 text-sm font-medium transition-colors",children:c?"Hide Details":"Show Details"}),l.jsx("button",{onClick:u,className:"flex-1 bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-700 hover:to-cyan-700 text-white rounded-lg px-4 py-2 text-sm font-medium transition-all transform hover:scale-105",children:"Awesome!"})]})]})]}),"celebrate"===m&&l.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(12)].map((e,s)=>l.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full animate-ping",style:{left:20+60*Math.random()+"%",top:20+60*Math.random()+"%",animationDelay:1e3*Math.random()+"ms",animationDuration:"1500ms"}},s))})]})})},p=({notification:e,onDismiss:s,style:t})=>{const[a,i]=n.useState(!1),[r,o]=n.useState(!1),c=n.useCallback(()=>{o(!0),setTimeout(()=>{s(e.id)},300)},[s,e.id]);n.useEffect(()=>{if(i(!0),e.duration){const s=setTimeout(()=>{c()},e.duration);return()=>clearTimeout(s)}},[e.duration,c]);return l.jsx("div",{className:"transform transition-all duration-300 "+(a&&!r?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"),style:t,children:l.jsx("div",{className:`bg-gradient-to-r ${(()=>{switch(e.type){case"level_up":return"from-yellow-500/20 to-orange-500/20 border-yellow-400/30";case"skill_unlock":return"from-cyan-500/20 to-blue-500/20 border-cyan-400/30";case"achievement":return"from-purple-500/20 to-pink-500/20 border-purple-400/30";case"stat_boost":return"from-green-500/20 to-emerald-500/20 border-green-400/30";default:return"from-slate-500/20 to-gray-500/20 border-slate-400/30"}})()} backdrop-blur-sm border rounded-lg p-4 shadow-lg max-w-sm ${(()=>{switch(e.priority){case"high":return"animate-pulse";case"medium":default:return"";case"low":return"opacity-80"}})()}`,children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"text-2xl flex-shrink-0",children:e.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:e.title}),l.jsx("p",{className:"text-xs text-slate-300",children:e.message}),e.actions&&e.actions.length>0&&l.jsx("div",{className:"flex space-x-2 mt-2",children:e.actions.map((e,s)=>l.jsx("button",{onClick:e.action,className:"text-xs bg-white/10 hover:bg-white/20 border border-white/20 rounded px-2 py-1 transition-colors",children:e.label},s))})]}),l.jsx("button",{onClick:c,className:"text-slate-400 hover:text-white transition-colors flex-shrink-0",children:l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})})},u=({notifications:e,onDismiss:s})=>l.jsx("div",{className:"fixed top-4 right-4 z-40 space-y-2 max-w-sm",children:e.filter(e=>!e.dismissed).slice(0,5).map((e,t)=>l.jsx(p,{notification:e,onDismiss:s,style:{transform:`translateY(${4*t}px)`,zIndex:40-t}},e.id))});export{c as A,x as L,u as N,m as Q,o as R,l as j,n as r};
//# sourceMappingURL=components-Dq2CPLEW.js.map
